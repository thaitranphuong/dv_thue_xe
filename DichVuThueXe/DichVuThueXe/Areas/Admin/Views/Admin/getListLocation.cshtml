@model Tuple<PagedList.IPagedList<DichVuThueXe.Models.DiaDiem>, string>
@using PagedList.Mvc;
@using DichVuThueXe.Models
@{
    ViewBag.Title = "getListLocation";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<script>
    window.onload = function () {
        var searchParams = new URLSearchParams(window.location.search);
        var ten = searchParams.get("ten");
        if (ten !== null) {
            document.getElementById("timdichvu").value = ten;
        }
    }

    function showSearch() {
        var search = $('#timdichvu').val();
        $.ajax({
            url: '/Admin/Admin/getListLocation',
            type: "GET",
            data: { ten: search },
            success: function (data) {
                document.getElementById("timdichvu").value = search;
                window.location.href = '/Admin/Admin/getListLocation?ten=' + encodeURIComponent(search);
            }
        });
    }
</script>

<style>
    thead, th {
        background-color: lightblue;
    }

    table {
        text-align: center;
    }
</style>
<br />
<div class="col-lg-12" style="padding-top:2%">
    <h1 class="page-header" style="color: lightblue;">DANH SÁCH ĐỊA ĐIỂM</h1>
</div>
<div class="search" style="padding-left: 50% ">
    <input id="timdichvu" class="search__input" type="text" placeholder="Tìm tên tỉnh">
    <button id="btn-timkiem" class="btn btn-bitbucket" onclick="showSearch()"><img src="~/Content/image/search.png" alt="search" width="15"></button>
</div>

<table class="table">
    <thead>
        <tr>
            <th style="color: white">
                Mã tỉnh
            </th>
            <th style="color: white">
                Tên tỉnh
            </th>
            <th style="color: white">
                Khoảng cách
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Item1)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MaTinh)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TenTinh)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.KhoangCach) KM
                </td>
            </tr>
        }

    </tbody>
</table>
<div style="margin-left:20px;">
    @Html.PagedListPager(Model.Item1, page => Url.Action("getListLocation", new { ten = Model.Item2, page }))
</div>